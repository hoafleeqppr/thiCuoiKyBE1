<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<head>
    <meta charset="UTF-8">
    <title>Th√™m Sinh vi√™n</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 700px;
            margin: 20px auto;
        }
        h1 {
            color: darkblue;
            text-align: center;
            margin-bottom: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: #f9f9f9;
            border: 1px solid #ccc;
            border-radius: 6px;
        }
        th, td {
            padding: 10px 15px;
            text-align: left;
        }
        th {
            width: 180px;
            background: #f1f1f1;
            font-weight: bold;
            color: #333;
        }
        input, select, textarea {
            width: 100%;
            padding: 8px;
            font-size: 14px;
            box-sizing: border-box;
        }
        textarea {
            resize: none;
        }
        .actions {
            margin-top: 20px;
            text-align: center;
        }
        .actions button {
            margin: 0 10px;
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        .btn-save {
            background: #28a745;
            color: white;
        }
        .btn-save:hover {
            background: #218838;
        }
        .btn-cancel {
            background: #6c757d;
            color: white;
        }
        .btn-cancel:hover {
            background: #5a6268;
        }
    </style>
</head>
<body>

<h1>Th√™m hoÃ£c vi√™n</h1>

<form id="studentForm" th:action="@{/students/save}" th:object="${student}" method="post">
    <table>
        <tr>
            <th>T√™n:</th>
            <td>
                <input type="text" th:field="*{name}"
                       placeholder="Nh√¢Ã£p t√™n hoÃ£c vi√™n ..."
                       required minlength="3" maxlength="50"
                       pattern="^[A-Za-z√Ä-·ªπ\s]+$"
                       title="T√™n ch·ªâ ƒë∆∞·ª£c ch·ª©a ch·ªØ c√°i, t·ªëi thi·ªÉu 3 k√Ω t·ª±"/>
            </td>
        </tr>

        <tr>
            <th>ƒêi·ªÉm l√Ω thuy·∫øt:</th>
            <td>
                <input type="number" step="0.1" th:field="*{theory}"
                       required min="0" max="10"
                       title="ƒêi·ªÉm ph·∫£i t·ª´ 0 ƒë·∫øn 10"/>
            </td>
        </tr>

        <tr>
            <th>ƒêi·ªÉm th·ª±c h√†nh:</th>
            <td>
                <input type="number" step="0.1" th:field="*{practice}"
                       required min="0" max="10"
                       title="ƒêi·ªÉm ph·∫£i t·ª´ 0 ƒë·∫øn 10"/>
            </td>
        </tr>

        <tr>
            <th>M√¥ t·∫£:</th>
            <td>
                <textarea th:field="*{description}" rows="3"
                          placeholder="Nh·∫≠p m√¥ t·∫£ chi ti·∫øt..."
                          maxlength="200"
                          required
                          title="M√¥ t·∫£ t·ªëi ƒëa 200 k√Ω t·ª±"></textarea>
            </td>
        </tr>

        <tr>
            <th>ƒê√°nh gi√°:</th>
            <td>
                <input type="text" th:field="*{evaluate}"
                       required
                       maxlength="100"
                       placeholder="V√≠ d·ª•: Gi·ªèi, Kh√°, Trung b√¨nh"/>
            </td>
        </tr>

        <tr>
            <th>L·ªõp:</th>
            <td>
                <select th:field="*{clazz}" required>
                    <option value="">-- Ch·ªçn l·ªõp --</option>
                    <option th:each="cls : ${classes}"
                            th:value="${cls.class_id}"
                            th:text="${cls.name}">
                    </option>
                </select>
            </td>
        </tr>
    </table>

    <div class="actions">
        <button type="submit" class="btn-save">üíæ L∆∞u</button>
        <button type="button" class="btn-cancel" onclick="window.location.href='/students'">‚¨ÖÔ∏è Tho√°t</button>
    </div>
</form>

<script>
    document.getElementById("studentForm").addEventListener("submit", function(event) {
        if (!this.checkValidity()) {
            event.preventDefault();
            Swal.fire({
                icon: 'warning',
                title: '‚ö†Ô∏è L·ªói d·ªØ li·ªáu',
                text: 'Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß v√† ƒë√∫ng th√¥ng tin tr∆∞·ªõc khi l∆∞u!',
                timer: 2000,
                showConfirmButton: false,
                position: 'center-end'
            });
        }
    });
</script>

</body>
</html>
